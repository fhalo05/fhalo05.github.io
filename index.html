<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premier League Simulator Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f8f8f8;
        }

        h1 {
            color: #0056b3;
        }

        #league-table, #match-list {
            margin-top: 20px;
        }

        table {
            width: 80%;
            margin: 0 auto;
            border-collapse: collapse;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }

        th {
            background-color: #0056b3;
            color: white;
        }

        button {
            padding: 10px 20px;
            margin-top: 20px;
            background-color: #28a745;
            color: white;
            border: none;
            cursor: pointer;
        }

        button:hover {
            background-color: #218838;
        }

        .slider-container {
            margin: 20px;
        }

        input[type="range"] {
            width: 300px;
        }

        .game-message {
            font-size: 1.4em;
            font-weight: bold;
            color: #28a745;
            margin-top: 20px;
        }

        #card-info, #injury-info {
            font-size: 1.2em;
            margin-top: 20px;
            color: #dc3545;
        }
    </style>
</head>
<body>
    <h1>Premier League Simulator Game</h1>

    <!-- League Table -->
    <div id="league-table">
        <h2>Current League Table</h2>
        <table>
            <thead>
                <tr>
                    <th>Position</th>
                    <th>Team</th>
                    <th>Played</th>
                    <th>Won</th>
                    <th>Drawn</th>
                    <th>Lost</th>
                    <th>Points</th>
                </tr>
            </thead>
            <tbody id="table-body"></tbody>
        </table>
    </div>

    <!-- Match Form -->
    <div id="match-form">
        <h2>Pick a Match</h2>
        <select id="team1"><option value="">Choose Team 1</option></select>
        <select id="team2"><option value="">Choose Team 2</option></select>
        <button onclick="startMatch()">Start Match</button>
    </div>

    <!-- Sliders for Probability -->
    <div class="slider-container">
        <label>Card Probability: <span id="probability-value">25%</span></label>
        <input type="range" id="card-probability-slider" min="0" max="100" value="25" oninput="updateCardProbability()">
    </div>

    <div class="slider-container">
        <label>Injury Probability: <span id="injury-value">10%</span></label>
        <input type="range" id="injury-probability-slider" min="0" max="100" value="10" oninput="updateInjuryProbability()">
    </div>

    <!-- Match Result and Feedback -->
    <div id="match-progress">
        <h3>Match Result</h3>
        <p id="match-result"></p>
        <p id="game-message" class="game-message"></p>
        <p id="card-info"></p>
        <p id="injury-info"></p>
    </div>

    <script>
        const teams = {
            'Manchester United': ['Bruno Fernandes', 'Marcus Rashford', 'Casemiro', 'Christian Eriksen', 'David de Gea'],
            'Manchester City': ['Erling Haaland', 'Kevin De Bruyne', 'Jack Grealish', 'Ruben Dias', 'Phil Foden'],
            'Liverpool': ['Mohamed Salah', 'Virgil van Dijk', 'Sadio Mane', 'Alisson Becker', 'Trent Alexander-Arnold'],
            'Chelsea': ['Kai Havertz', 'Mason Mount', 'Thiago Silva', 'Reece James', 'Enzo Fernandez'],
            'Arsenal': ['Forward Bukayo Saka', 'Midfielder Martin Odegaard', 'Forward Gabriel Jesus', 'Defender William Saliba', 'Forward Raheem Sterling'],
            'Tottenham': ['Harry Kane', 'Son Heung-min', 'Richarlison', 'Pierre-Emile Højbjerg', 'Hugo Lloris'],
            'West Ham United': ['Declan Rice', 'Jarrod Bowen', 'Tomas Soucek', 'Lucas Paquetá', 'Alphonse Areola'],
            'Leicester City': ['James Maddison', 'Harvey Barnes', 'Kasper Schmeichel', 'Youri Tielemans', 'Wilfred Ndidi'],
            'Aston Villa': ['Ollie Watkins', 'Philippe Coutinho', 'Emiliano Martínez', 'Tyrone Mings', 'Leon Bailey'],
            'Newcastle United': ['Miguel Almirón', 'Bruno Guimarães', 'Callum Wilson', 'Kieran Trippier', 'Nick Pope'],
            'Wolverhampton Wanderers': ['Raul Jimenez', 'Pedro Neto', 'Ruben Neves', 'João Moutinho', 'José Sá'],
            'Crystal Palace': ['Wilfried Zaha', 'Eberechi Eze', 'Jordan Ayew', 'Vicente Guaita', 'Joachim Andersen'],
            'Brighton & Hove Albion': ['Leandro Trossard', 'Pascal Groß', 'Robert Sánchez', 'Adam Webster', 'Moisés Caicedo'],
            'Southampton': ['James Ward-Prowse', 'Che Adams', 'Theo Walcott', 'Romeo Lavia', 'Gavin Bazunu'],
            'Everton': ['Dominic Calvert-Lewin', 'Richarlison', 'Jordan Pickford', 'Abdoulaye Doucouré', 'Alex Iwobi'],
            'Ipswich Town': ['Forward Liam Delap', 'Midfielder Kalvin Phillips', 'Forward Omari Hutchinson', 'Midfielder Sam Morsy', 'Goalkeeper Arijanet Muric'],
            'Brentford': ['Ivan Toney', 'Bryan Mbeumo', 'David Raya', 'Christian Nørgaard', 'Mathias Jensen'],
            'Nottingham Forest': ['Taiwo Awoniyi', 'Morgan Gibbs-White', 'Dean Henderson', 'Nico Williams', 'Serge Aurier'],
            'Bournemouth': ['Dominic Solanke', 'Philip Billing', 'Mark Travers', 'Jaidon Anthony', 'Jefferson Lerma'],
            'Fulham': ['Aleksandar Mitrović', 'Andreas Pereira', 'Harrison Reed', 'Antonee Robinson', 'Bernd Leno']
        };


        let leagueTable = Object.keys(teams).map(team => ({ name: team, played: 0, won: 0, drawn: 0, lost: 0, points: 0 }));

        function renderTable() {
            leagueTable.sort((a, b) => b.points - a.points);
            document.getElementById('table-body').innerHTML = leagueTable.map((team, index) => `
                <tr>
                    <td>${index + 1}</td>
                    <td>${team.name}</td>
                    <td>${team.played}</td>
                    <td>${team.won}</td>
                    <td>${team.drawn}</td>
                    <td>${team.lost}</td>
                    <td>${team.points}</td>
                </tr>
            `).join('');
        }

        function updateLeagueStats(team1, team2, score1, score2) {
            let t1 = leagueTable.find(t => t.name === team1);
            let t2 = leagueTable.find(t => t.name === team2);
            t1.played++; t2.played++;
            if (score1 > score2) { t1.won++; t1.points += 3; t2.lost++; }
            else if (score1 < score2) { t2.won++; t2.points += 3; t1.lost++; }
            else { t1.drawn++; t2.drawn++; t1.points++; t2.points++; }
        }

        function assignCards(team1, team2) {
            if (Math.random() < document.getElementById('card-probability-slider').value / 100) {
                let randomTeam = Math.random() > 0.5 ? team1 : team2;
                let player = teams[randomTeam][Math.floor(Math.random() * 5)];
                let cardType = Math.random() > 0.5 ? 'Yellow' : 'Red';
                let reasons = ["for a reckless foul", "for dissent", "for time-wasting", "for violent conduct"];
                let reason = reasons[Math.floor(Math.random() * reasons.length)];
                let message = `${player} from ${randomTeam} received a ${cardType} card ${reason}.`;
                document.getElementById('card-info').textContent = message;
                speakMessage(message);
            }
        }

        function assignInjury(team1, team2) {
            if (Math.random() < document.getElementById('injury-probability-slider').value / 100) {
                let randomTeam = Math.random() > 0.5 ? team1 : team2;
                let player = teams[randomTeam][Math.floor(Math.random() * 5)];
                let injuries = ["ankle sprain", "hamstring strain", "knee injury"];
                let injury = injuries[Math.floor(Math.random() * injuries.length)];
                let message = `${player} from ${randomTeam} suffered a ${injury}.`;
                document.getElementById('injury-info').textContent = message;
                speakMessage(message);
            }
        }

        function startMatch() {
            let team1 = document.getElementById('team1').value;
            let team2 = document.getElementById('team2').value;
            if (team1 && team2 && team1 !== team2) {
                let score1 = Math.floor(Math.random() * 5);
                let score2 = Math.floor(Math.random() * 5);
                updateLeagueStats(team1, team2, score1, score2);
                document.getElementById('match-result').textContent = `${team1} ${score1} - ${score2} ${team2}`;
                assignCards(team1, team2);
                assignInjury(team1, team2);
                renderTable();
            }
        }

        function speakMessage(msg) {
            let utterance = new SpeechSynthesisUtterance(msg);
            utterance.rate = 0.8;
            speechSynthesis.speak(utterance);
        }

        document.getElementById('team1').innerHTML += Object.keys(teams).map(t => `<option>${t}</option>`).join('');
        document.getElementById('team2').innerHTML += Object.keys(teams).map(t => `<option>${t}</option>`).join('');
        renderTable();
    </script>
</body>
</html>
